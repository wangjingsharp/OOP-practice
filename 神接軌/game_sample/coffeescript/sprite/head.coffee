headOffset = (rect)->
	offset = [
		[ [[0,0]] ], #坐下
		[ [[0,0]] ], #死亡
		[
			[
				[-5,-30],
				[-5,-30],
				[-7,-28],
				[-7,-28],
				[-7,-28],
				[-5,-30],
			], [[0,0]], [
				[-5,-30],
				[-5,-30],
				[-7,-28],
				[-7,-28],
				[-7,-28],
				[-5,-30],
			], [[0,0]], [
				[2,-30],
				[2,-30],
				[-4,-26],
				[-4,-26],
				[-4,-26],
				[2,-30],
			],[[0,0]], [
				[5,-30],
				[5,-30],
				[9,-26],
				[10,-26],
				[11,-26],
				[5,-30],
			]
			], #攻擊
		[ [[-2,-30]], [[0,0]], [[0,-32]], [[0,0]], [[-2,-30]], [[0,0]], [[10,-31]] ],
		[ [[-6,-28]], [[0,0]], [[-6,-28]], [[0,0]], [[-6,-28]], [[-6,-28]], [[12,-28]] ],
		[
			[
				[-5,-30]
			], [
				[0,0]
			], [
				[-4,-32],[-2,-32],[2,-32],[-2,-32],[-4,-32],[-1,-32],[2,-32],[0,-32]
			], [
				[0,0]
			], [
				[-2,-30],[-2,-30],[-2,-30],[-2,-30],[-2,-30],[-2,-30],[-2,-30],[-2,-30]
			], [
				[0,0]
			], [
				[12,-31],[11,-31],[8,-31],[12,-31],[13,-31],[10,-31],[9,-31],[10,-31]
			]
		],
	]
	for action,a in offset
		for dir,d in action
			for moment,m in dir
				rect[a][d][m] = rect[a][d][0].slice()
				rect[a][d][m][4] = offset[a][d][m][0]
				rect[a][d][m][5] = offset[a][d][m][1]
	return rect

window.head = {}
k = [[0,0,24,25],[24,0,29,27],[53,0,30,26],[83,0,27,26],[110,0,26,26],[136,0,24,28],[160,0,26,25],[186,0,28,24],[214,0,23,23],[237,0,23,23],[260,0,30,25],[290,0,30,24],[320,0,26,26],[346,0,25,26],[371,0,25,21]]
g = headOffset [
	[ [k[1]] ], #坐下
	[ [k[14]] ], #死亡
	[ [k[2]], [k[2]], [k[2]], [k[4]], [k[4]],[k[4]],[k[4]] ], #攻擊
	[ [k[1]], [k[2]], [k[3]], [k[4]], [k[5]], [k[4]], [k[3]] ], #站立
	[ [k[6]], [k[7]], [k[6]], [k[8]], [k[7]], [k[7]], [k[7]] ], #被攻擊
	[ [k[1]], [k[2]], [k[3]], [k[4]], [k[5]], [k[4]], [k[3]] ]
]

window.head.h001 = new Sprite "images/head1.png", g, "head"



